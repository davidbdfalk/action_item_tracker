<!-- Validation failure messages -->
<% if @action_item.present? %>
  <% if @action_item.errors.any? %>
    <% @action_item.errors.full_messages.each do |message| %>
      <div class="alert alert-danger">
        <%= message %>
      </div>
    <% end %>
  <% end %>
<% end %>

<h1>
  Add a new action item
</h1>


<hr>

<!-- Form action_item start -->
<form action="/create_action_item" method="post">
<!-- Form action_item end -->

  <!-- Label and input for assigner_id start -->
  <!-- Input for "assigner_id" start -->
  <input type="hidden" name="assigner_id" value="<%= current_user.id %>">
  <!-- Input for "assigner_id" end -->
  <!-- Label and input for assigner_id end -->

  <!-- Label and input for actionee_id start -->
  <div class="form-group">
    <label for="actionee_id">
      Actionee
    </label>

    <!-- Input for actionee_id start -->
    <%= select_tag(:actionee_id, options_from_collection_for_select(User.all, :id, :username, @action_item.actionee_id), :class => "form-control") %>
    <!-- Input for actionee_id end -->
  </div>
  <!-- Label and input for actionee_id end -->

  <!-- Label and input for action_item start -->
  <div class="form-group">
    <label for="action_item">
      Action item
    </label>

    <!-- Input for action_item start -->
    <input type="text" id="action_item" name="action_item" class="form-control" value="<%= @action_item.action_item %>">
    <!-- Input for action_item end -->
  </div>
  <!-- Label and input for action_item end -->

  <!-- Label and input for description start -->
  <div class="form-group">
    <label for="description">
      Description
    </label>

    <!-- Input for description start -->
    <textarea id="description" name="description" class="form-control" rows="3"><%= @action_item.description %></textarea>
    <!-- Input for description end -->
  </div>
  <!-- Label and input for description end -->

  <!-- Label and input for deadline start -->
  <div class="form-group">
    <label for="deadline">
      Deadline
    </label>

    <!-- Input for deadline start -->
    <input type="text" id="deadline" name="deadline" class="form-control" value="<%= @action_item.deadline %>">
    <!-- Input for deadline end -->
  </div>
  <!-- Label and input for deadline end -->

  <!-- Label and input for status start -->
  <div class="form-group">
    <label for="status">
      Status
    </label>

    <!-- Input for status start -->
    <input type="text" id="status" name="status" class="form-control" value="<%= @action_item.status %>">
    <!-- Input for status end -->
  </div>
  <!-- Label and input for status end -->

  <button class="btn btn-block btn-outline-secondary">
    Create action item
  </button>
</form>

<hr>

<a href="/action_items">
  Go back
</a>
